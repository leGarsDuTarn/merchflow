<%# app/views/proposals/index.html.erb %>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Liste des Propositions de Mission (<%= @proposals.count %>)</h1>
    <%= link_to 'Retour au Tableau de bord', dashboard_path, class: 'btn btn-outline-secondary' %>
  </div>

  <% if @proposals.any? %>
    <div class="row">
      <% @proposals.each do |proposal| %>
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm border-warning">
            <div class="card-body">
              <h5 class="card-title text-warning mb-3">
                <%= proposal.fve.agency_label %> – Proposé le <%= l proposal.date, format: :default %>
              </h5>

              <p>
                <strong>Date de la Mission :</strong> <%= l proposal.date, format: :long %>
              </p>
              <p>
                <strong>Ville :</strong> <%= proposal.city %>
              </p>
              <p>
                <strong>Taux Horaire Proposé :</strong> <%= number_to_currency(proposal.hourly_rate) %>
              </p>

              <hr>

              <%# Cette zone contiendrait le formulaire pour accepter/refuser %>
              <div class="d-flex justify-content-end">
                <%# TODO: Ajouter ici les boutons d'action (Accepter / Refuser) %>
                <button class="btn btn-success me-2" disabled>Accepter</button>
                <button class="btn btn-danger" disabled>Refuser</button>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="alert alert-info" role="alert">
      Vous n'avez actuellement aucune nouvelle proposition de mission en attente.
    </div>
  <% end %>

</div>
